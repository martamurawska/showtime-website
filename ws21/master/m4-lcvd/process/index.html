<!DOCTYPE html>
<html lang="en" dir="ltr"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta charset="UTF-8">

<link rel="stylesheet" href="/showtime-website/css/style.min.0818788543d8a0321d579767df75923f6e671112d0dc29b6918c8a9379c61ac8.css" integrity="sha256-CBh4hUPYoDIdV5dn33WSP25nERLQ3Cm2kYyKk3nGGsg=" crossorigin="anonymous">


<script src=https://martamurawska.github.io/showtime-website/js/title-animate.js charset="utf-8"></script>
<script src=https://martamurawska.github.io/showtime-website/js/semester-select.js charset="utf-8"></script>
<script src=https://martamurawska.github.io/showtime-website/js/secret.js charset="utf-8"></script>
<title>IMI Showtime - HTW Berlin</title>
<body>
<nav class="background master">
    <a href="https://martamurawska.github.io/showtime-website/" class="animate-trigger"><strong>IMI<span class="light">×</span><span class="animate">ST</span></strong> <span class="light">






    
        2023
    

</span></a>
     
    <div class = "warn">Preview Site! 
        (with drafts)
      <div class = "warn small">Production Site: <a href="https://showtime.f4.htw-berlin.de/">https://showtime.f4.htw-berlin.de/</a></div>
    </div>  
    
    <ul>
        <li><a href="https://martamurawska.github.io/showtime-website/projects">Projects</a></li>
        <li><a href="https://martamurawska.github.io/showtime-website/schedule">Schedule</a></li>
        <li><a href="https://martamurawska.github.io/showtime-website/dates">Dates</a></li>
        
        
        
            
            
        
        <li><a href="/showtime-website/ws22">Archive</a></li>
        <li><a href="https://martamurawska.github.io/showtime-website/contact">Contact</a></li>
   </ul>
</nav>

    <div class="background master">
        <header class="project-header">
            <h1>
                <span class="type">M4 Master</span>
                LCvd
                <span class="underscore-spacer"> </span>
            </h1>
            <section style="text-align: right;">
                <div class="spacer"></div>
                
                    <h4>Team</h4>
                    <ul>
                        
                            <li>Emily Gilbert</li>
                        
                            <li>Fatlind Krasniqi</li>
                        
                            <li>Linda Fernsel</li>
                        
                            <li>Paula Osterkamp</li>
                        
                            <li>Shari Eichberger</li>
                        
                    </ul>
                
                
                    <h4>Supervision</h4>
                    David Koschnick, Matthias Daiber
                
            </section>
        </header>
    </div>
    <div class="project-menu desktop-menu background master">
        <ul>
            <li ><a href="/showtime-website/ws21/master/m4-lcvd/">Overview</a></li>
            
            <li ><a href="/showtime-website/ws21/master/m4-lcvd/features/">Features</a></li>
            
            <li class="active"><a href="/showtime-website/ws21/master/m4-lcvd/process/">Process and Challenges</a></li>
            
            <li ><a href="/showtime-website/ws21/master/m4-lcvd/tech-stack/">Tech Stack and Tool Stack</a></li>
            
            <li ><a href="/showtime-website/ws21/master/m4-lcvd/future/">Future</a></li>
            
        </ul>
    </div>
    <div class="project-menu mobile-menu background master">
        <ul>
            <li ><a href="/showtime-website/ws21/master/m4-lcvd/">Overview</a></li>
            
            <li ><a href="/showtime-website/ws21/master/m4-lcvd/features/">Features</a></li>
            
            <li class="active"><a href="/showtime-website/ws21/master/m4-lcvd/process/">Process and Challenges</a></li>
            
        </ul>
        <input type="checkbox" id="project-menu-button">
        <label for="project-menu-button">
            <span></span>
        </label>
        <div class="dropdown-menu">
            <ul>
                
                <li ><a href="/showtime-website/ws21/master/m4-lcvd/tech-stack/">Tech Stack and Tool Stack</a></li>
                
                <li ><a href="/showtime-website/ws21/master/m4-lcvd/future/">Future</a></li>
                
            </ul>
        </div>
    </div>
    <main class="project">
        
        <section>
    <h3>
        
            Design
        
    </h3>
    <div class="spacer"></div>
    <div class="content">
        <h4 id="research">Research</h4>
<p>With medical apps it is especially important that they are based on scientific research.
We started by researching about Long Covid: How is the illness defined? How is it diagnosed?
Which are possible symptoms, which are most common and how are they treated?
How frequent is Long Covid? What could be the cause of Long Covid? What do Long Covid patients wish for?</p>
<p>Some of our sources are:</p>
<ul>
<li><a href="https://www.nature.com/articles/s41591-021-01292-y">Attributes and predictors of long COVID. Sudre et. al.. Nature Medicine. 2021</a></li>
<li><a href="https://www.science.org/doi/10.1126/science.abg7113">The road to addressing Long Covid. Alwan. Science. 2021</a></li>
<li><a href="https://www.apa.org/monitor/2021/07/treating-long-covid">Treating patients with long COVID. Schreiber. Monitor on Psychology. 2021</a></li>
<li><a href="https://www.awmf.org/uploads/tx_szleitlinien/020-027l_S1_Post_COVID_Long_COVID_2021-07.pdf">S1-Leitlinie Post-COVID/Long-COVID. Koczulla et. al.. AWMF online - Das Portal der wissenschaftlichen Medizin. 2021</a></li>
</ul>
<p>Additionally, we read personal reports published by patients of Long Covid on
social media platforms like Instagram or Tumblr. Although not scientific, these reports helped us
get insights into the every day life, fears and wishes of patients.</p>
<h4 id="personas">Personas</h4>
<p>From our combined research we extracted four personas. Here is a short summary for each of them.</p>
<ul>
<li>Sonja Sorgenvoll, 50, baker, recovered from Covid-19: &ldquo;Do I have Long Covid or am I just going crazy?&rdquo;</li>
<li>Franz Frustriert, 22, student, Long Covid patient: &ldquo;I&rsquo;m sick of feeling so helpless. Suffering from brain fog I can&rsquo;t even focus on my studies anymore.&rdquo;</li>
<li>Nils Nichternstgenommen, 30, teacher, Long Covid patient: &ldquo;My colleagues don&rsquo;t take me seriousely. I just feel alone with Long Covid.&rdquo;</li>
<li>Mona Motiviert, 40, project manager, Long Covid patient: &ldquo;I won&rsquo;t let Long Covid get me down. What can I do to get well soon?&rdquo;</li>
</ul>
<h4 id="user-stories">User Stories</h4>
<p>We collected the problems that our personas have and developed User Stories from them.
Those we clustered into five main topics and prioritized them. Here are those User Stories that we focused on:</p>
<ul>
<li>information:
<ul>
<li>As a patient of Long Covid I want to read about current scientific recommendations on how to handle Long Covid</li>
<li>As a patient of Long Covid I want to see easily understandable explanations on symptoms so I can better explain myself</li>
</ul>
</li>
<li>tracking:
<ul>
<li>As a patient of Long Covid I want to track my symptoms to get an overview over my symptoms and communicate them</li>
<li>As a patient of Long Covid I want to be reminded about positive development to stay motivated</li>
<li>As a patient I want to be notified when I should see a doctor</li>
</ul>
</li>
</ul>
<h4 id="prototyping">Prototyping</h4>
<p>After deciding on all the features we figured out the different screens the app should have and which functionalities,
information and links should be presented on it. From there we created a paper prototype for the app.
Next we created a second prototype in Adobe XD for the visual design and user experience. We tried out different design ideas and
decided to go with a green theme and color gradients.</p>
<figure>
    <img src="/showtime-website/ws21/master/m4-lcvd/prototype.png" alt="Prototyping stages">
</figure>
<h4 id="data-model">Data Model</h4>
<p>Based on our features we designed the following data model.</p>
<figure>
    <img src="/showtime-website/ws21/master/m4-lcvd/data-model.jpg" alt="LCvd&#39;s data model">
</figure>

    </div>
</section>

<section>
    <h3>
        
            Implementation and Workflow
        
    </h3>
    <div class="spacer"></div>
    <div class="content">
        <h4 id="backend">Backend</h4>
<p>When developing the backend we first set up a regular Django app, adding PostgreSQL as a database.
Building upon the Django template app we extended views and serializers to change default behavior and add authorization.
For example, in order to save a password, it had to first be extracted from the sent request data and hashed before it
could be handed to the serializer together with the remaining validated data. Or, in the example below, the UserAction
view extends DRF&rsquo;s &ldquo;RetrieveUpdateDestroyAPIView&rdquo; by overriding the &ldquo;get_object&rdquo; method so that users may only get,
patch or delete their own user object.</p>
<figure>
    <img src="/showtime-website/ws21/master/m4-lcvd/tech-stack-drf-example.png" alt="Overriding get_object()">
</figure>
<p>The tutorial <a href="https://hackernoon.com/110percent-complete-jwt-authentication-with-django-and-react-2020-iejq34ta">&ldquo;110% Complete JWT Authentication with Django &amp; React - 2020&rdquo;</a> was a
great help for understanding how to implement JWT for authentication with a Django backend.</p>
<h5 id="quality-assurance">Quality Assurance</h5>
<p>We almost always applied the method of test driven development. Step by step we created 62 tests for registration, authentication,
authorization and all endpoints.</p>
<p>In parallel, we used a shared Postman collection to document the API endpoints.
Postman collections can be shared with a workspace, where they can then be edited together. However, the free version of
Postman has a member limit on workspaces, which is why some team members needed to import (and re-import after an update)
the statically shared collection. We created pre-request scripts to allow for Postman requests to be run independently.
These pre-request scripts for example create and log in with a user, store access tokens in an environment for later use in request
headers and create various test data.</p>
<p>The Postman collection for the LCvd API is available at <a href="https://www.getpostman.com/collections/3736b542166a4cdec01b">https://www.getpostman.com/collections/3736b542166a4cdec01b</a>.</p>
<figure>
    <img src="/showtime-website/ws21/master/m4-lcvd/tech-stack-postman-example.png" alt="A look at our Postman collection">
</figure>
<p>PyCharm was configured to enforce the <a href="https://pep8.org/">PEP8 style standard</a> for Python code.</p>
<h5 id="docker">Docker</h5>
<p>Right from the start, our goal was to make the backend as easily usable as possible for the frontend developers: all team members
should be able to easily develop or use the backend, without worrying how to set it up and install requirements,
no matter which system they use. While Docker worked well on Linux and macOS, it turned out to be difficult to use with Windows.</p>
<p>So before starting to implement any features we dockerized the backend. Dockerizing Django apps is not straightforward.
For making migrations and creating a superuser, one would need to open the shell inside a Docker container,
which is too much work to do everytime. So we
created an entrypoint script for these jobs that runs everytime the containers are started. A challenge was that the
commands for creating a superuser and making migrations could not take user input in the entrypoint script, so all parameters
needed to be set in different ways, eg. in the Django &ldquo;settings.py&rdquo;-file.</p>
<h5 id="deployment">Deployment</h5>
<p>When the development of the backend was almost complete we deployed it to a Debian server with Nginx as a web server and Gunicorn
as the application server. Since we didn&rsquo;t use Docker for production we had to replace the entrypoint script that makes
migrations and creates a superuser with two slightly modified bash scripts:</p>
<ul>
<li>one to initialize the backend on the server by creating a superuser and installing data fixture</li>
<li>one that makes migrations and starts the virtual environment and Gunicorn.</li>
</ul>
<p>The latter script is run by the &ldquo;backend&rdquo; service that we created on the Debian server and is re-run to restart the application
server whenever it is stopped.</p>
<p>The tutorial <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-16-04">&ldquo;How To Set Up Django with Postgres, Nginx, and Gunicorn on Ubuntu 16.04&rdquo;</a>
helped with understanding how to deploy the Django backend with Nginx and Gunicorn.</p>
<h4 id="frontend">Frontend</h4>
<p>In the frontend for our iOS and Android app we started out by setting up NativeScript and a basic NativeScript-Vue app.
We then began implementing the most important views: the calendar, tracker, signup and login and visualization.
Once the login was available in the backend we began implementing the requests to the backend and managing the application
state with Vuex. We also made sure to save the JWT in the Application Settings, so that users won&rsquo;t have to log in again after
reopening the app. After all the requests were finished, we started working on the rest of the views.</p>
<p>With NativeScript it is not possible to use HTML-Elements in the template, since the app is not run in a browser but in a native environment.
Therefore the use of NativeScript-Elements is imperative which create a wrapper for the native UI Components of Android and iOS.
This can be challenging since for some elements there are differences between Android and iOS that need to be accounted for and
some of them can&rsquo;t be resolved by different styling. Another challenge is that not all the features are documented well or the
documentation pages seem to be unavailable.</p>
<p>This was also the case for the visualization which we wanted to create by using the NativeScript UI Charts. This turned out to be
very difficult since the documentation on it was so spare. After working on it for a while and figuring out the details of how to use it
ourselves, we realized that the features where not enough to achieve the visualization we had imagined. Therefore, we had to find another way.
Using a WebView we were able to create the visualization with the JavaScript library Chart.js. The data for the visualization is passed using the src of the WebView.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">webViewSrc</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`~/assets/graph.html?</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">data</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span></code></pre></div><p>The variable webViewSrc is bound to the src of the WebView, so every time the variable changes the WebView reloads with the new data that is passed as stringified JSON in the src.
In the HTML-File that creates the visualization the data can then be parsed to a JavaScript object again.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">loc</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">location</span>.<span style="color:#a6e22e">href</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(
</span></span><span style="display:flex;"><span>    decodeURI(<span style="color:#a6e22e">loc</span>.<span style="color:#a6e22e">substring</span>(<span style="color:#a6e22e">loc</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#e6db74">&#34;?&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div>
    </div>
</section>


    </main>
<footer>
    <section>
        <a href="https://martamurawska.github.io/showtime-website/" class="animate-trigger"><strong>IMI<span class="light">⨯</span><span class="animate">ST</span></strong> 






    
        2023
    

</a>
        <ul>
            <li><a href="https://martamurawska.github.io/showtime-website/contact">Contact</a></li>
            <li><a href="https://martamurawska.github.io/showtime-website/privacy-policy">Privacy Policy</a></li>
            <li><a href="https://martamurawska.github.io/showtime-website/imprint">Imprint</a></li>
        </ul>
    </section>
    <img src="https://martamurawska.github.io/showtime-website/img/htw-logo.png" alt="HTW Logo">
</footer>
</body>
</html>
